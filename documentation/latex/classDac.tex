\hypertarget{classDac}{}\section{Dac Class Reference}
\label{classDac}\index{Dac@{Dac}}


{\ttfamily \#include $<$dac.\+h$>$}

Inheritance diagram for Dac\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classDac}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classDac_ae74afbc4c82a8acbd8c74dcf4ea046ba}{Dac}} (uint8\+\_\+t sync\+\_\+pin, uint8\+\_\+t spi\+\_\+bus\+\_\+config\+\_\+pin, uint8\+\_\+t ldac\+\_\+pin, uint8\+\_\+t clock\+\_\+divider=4, Bit\+Order bit\+\_\+order=M\+S\+B\+F\+I\+R\+ST, uint8\+\_\+t spi\+\_\+mode=S\+P\+I\+\_\+\+M\+O\+D\+E1)
\item 
bool \mbox{\hyperlink{classDac_ad88e0048e59c0633b72769ddb8337e49}{Begin}} (void)
\item 
float \mbox{\hyperlink{classDac_a71ede236baa8fc67d18db38629e6c225}{Set\+Voltage}} (float voltage)
\item 
void \mbox{\hyperlink{classDac_aafef1707ec33a2166a69e9b646cd471b}{Update\+Analog\+Outputs}} (void)
\item 
float \mbox{\hyperlink{classDac_afad6313ba5c58c10efde3849c7f89d2e}{Get\+Voltage}} (void)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classDac_ac21022b2b921437418004af9ae7de8ae}{Voltage\+To\+Bytes}} (float voltage)=0
\item 
virtual float \mbox{\hyperlink{classDac_a1dc9be97cb41ddacbd8dde0c5d4243b4}{Bytes\+To\+Voltage}} (byte msg\mbox{[}\mbox{\hyperlink{classDac_af3de0bf669183e66ebf916f8c685fe6b}{kdata\+\_\+len\+\_\+}}\mbox{]})=0
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
byte \mbox{\hyperlink{classDac_a82d9c857af6ba19123b3f5d5187dce1d}{msg\+\_\+}} \mbox{[}\mbox{\hyperlink{classDac_af3de0bf669183e66ebf916f8c685fe6b}{kdata\+\_\+len\+\_\+}}\mbox{]}
\end{DoxyCompactItemize}
\subsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
static const uint8\+\_\+t \mbox{\hyperlink{classDac_af3de0bf669183e66ebf916f8c685fe6b}{kdata\+\_\+len\+\_\+}} = 3
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\mbox{\hyperlink{classDac}{Dac}} class 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classDac_ae74afbc4c82a8acbd8c74dcf4ea046ba}\label{classDac_ae74afbc4c82a8acbd8c74dcf4ea046ba}} 
\index{Dac@{Dac}!Dac@{Dac}}
\index{Dac@{Dac}!Dac@{Dac}}
\subsubsection{\texorpdfstring{Dac()}{Dac()}}
{\footnotesize\ttfamily Dac\+::\+Dac (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{sync\+\_\+pin,  }\item[{uint8\+\_\+t}]{spi\+\_\+bus\+\_\+config\+\_\+pin,  }\item[{uint8\+\_\+t}]{ldac\+\_\+pin,  }\item[{uint8\+\_\+t}]{clock\+\_\+divider = {\ttfamily 4},  }\item[{Bit\+Order}]{bit\+\_\+order = {\ttfamily MSBFIRST},  }\item[{uint8\+\_\+t}]{spi\+\_\+mode = {\ttfamily SPI\+\_\+MODE1} }\end{DoxyParamCaption})}

Constructor 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classDac_ad88e0048e59c0633b72769ddb8337e49}\label{classDac_ad88e0048e59c0633b72769ddb8337e49}} 
\index{Dac@{Dac}!Begin@{Begin}}
\index{Begin@{Begin}!Dac@{Dac}}
\subsubsection{\texorpdfstring{Begin()}{Begin()}}
{\footnotesize\ttfamily bool Dac\+::\+Begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Configures pins for S\+PI and initializes S\+PI communication. \mbox{\Hypertarget{classDac_a1dc9be97cb41ddacbd8dde0c5d4243b4}\label{classDac_a1dc9be97cb41ddacbd8dde0c5d4243b4}} 
\index{Dac@{Dac}!Bytes\+To\+Voltage@{Bytes\+To\+Voltage}}
\index{Bytes\+To\+Voltage@{Bytes\+To\+Voltage}!Dac@{Dac}}
\subsubsection{\texorpdfstring{Bytes\+To\+Voltage()}{BytesToVoltage()}}
{\footnotesize\ttfamily virtual float Dac\+::\+Bytes\+To\+Voltage (\begin{DoxyParamCaption}\item[{byte}]{msg\mbox{[}kdata\+\_\+len\+\_\+\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}

Uses chip specifications (e.\+g. bit resolution, registers, range) to join a a three-\/byte message a maps it to a voltage. Each D\+AC has its own convertion function. Check the datasheet of each chip and override the function below accordingly. 

Implemented in \mbox{\hyperlink{classAD5764_a8f2845c7dd6b8984e7b85c35e50bbb66}{A\+D5764}}.

\mbox{\Hypertarget{classDac_afad6313ba5c58c10efde3849c7f89d2e}\label{classDac_afad6313ba5c58c10efde3849c7f89d2e}} 
\index{Dac@{Dac}!Get\+Voltage@{Get\+Voltage}}
\index{Get\+Voltage@{Get\+Voltage}!Dac@{Dac}}
\subsubsection{\texorpdfstring{Get\+Voltage()}{GetVoltage()}}
{\footnotesize\ttfamily float Dac\+::\+Get\+Voltage (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Gets the voltage setted to dac register. \mbox{\Hypertarget{classDac_a71ede236baa8fc67d18db38629e6c225}\label{classDac_a71ede236baa8fc67d18db38629e6c225}} 
\index{Dac@{Dac}!Set\+Voltage@{Set\+Voltage}}
\index{Set\+Voltage@{Set\+Voltage}!Dac@{Dac}}
\subsubsection{\texorpdfstring{Set\+Voltage()}{SetVoltage()}}
{\footnotesize\ttfamily float Dac\+::\+Set\+Voltage (\begin{DoxyParamCaption}\item[{float}]{voltage }\end{DoxyParamCaption})}

Sets a voltage to \mbox{\hyperlink{classDac}{Dac}} object via S\+PI. The message msg\+\_\+ is generated by calling \mbox{\hyperlink{classDac_ac21022b2b921437418004af9ae7de8ae}{Voltage\+To\+Bytes()}}, which is specific to each chip. \mbox{\Hypertarget{classDac_aafef1707ec33a2166a69e9b646cd471b}\label{classDac_aafef1707ec33a2166a69e9b646cd471b}} 
\index{Dac@{Dac}!Update\+Analog\+Outputs@{Update\+Analog\+Outputs}}
\index{Update\+Analog\+Outputs@{Update\+Analog\+Outputs}!Dac@{Dac}}
\subsubsection{\texorpdfstring{Update\+Analog\+Outputs()}{UpdateAnalogOutputs()}}
{\footnotesize\ttfamily void Dac\+::\+Update\+Analog\+Outputs (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Updates the outputs of all \mbox{\hyperlink{classDac}{Dac}} objects sharing the same ldac\+\_\+pin\+\_\+. \mbox{\Hypertarget{classDac_ac21022b2b921437418004af9ae7de8ae}\label{classDac_ac21022b2b921437418004af9ae7de8ae}} 
\index{Dac@{Dac}!Voltage\+To\+Bytes@{Voltage\+To\+Bytes}}
\index{Voltage\+To\+Bytes@{Voltage\+To\+Bytes}!Dac@{Dac}}
\subsubsection{\texorpdfstring{Voltage\+To\+Bytes()}{VoltageToBytes()}}
{\footnotesize\ttfamily virtual void Dac\+::\+Voltage\+To\+Bytes (\begin{DoxyParamCaption}\item[{float}]{voltage }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}

Uses chip specifications (e.\+g. bit resolution, registers, range) to generate a a three-\/byte message msg\+\_\+ that writes to the dac register. Each D\+AC has its own convertion function. Check the datasheet of each chip and override the function below accordingly. 

Implemented in \mbox{\hyperlink{classAD5764_aae10d34276fdfcb3542e39bccd2f20f6}{A\+D5764}}.



\subsection{Member Data Documentation}
\mbox{\Hypertarget{classDac_af3de0bf669183e66ebf916f8c685fe6b}\label{classDac_af3de0bf669183e66ebf916f8c685fe6b}} 
\index{Dac@{Dac}!kdata\+\_\+len\+\_\+@{kdata\+\_\+len\+\_\+}}
\index{kdata\+\_\+len\+\_\+@{kdata\+\_\+len\+\_\+}!Dac@{Dac}}
\subsubsection{\texorpdfstring{kdata\+\_\+len\+\_\+}{kdata\_len\_}}
{\footnotesize\ttfamily const uint8\+\_\+t Dac\+::kdata\+\_\+len\+\_\+ = 3\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}

Size of msg\+\_\+. \mbox{\Hypertarget{classDac_a82d9c857af6ba19123b3f5d5187dce1d}\label{classDac_a82d9c857af6ba19123b3f5d5187dce1d}} 
\index{Dac@{Dac}!msg\+\_\+@{msg\+\_\+}}
\index{msg\+\_\+@{msg\+\_\+}!Dac@{Dac}}
\subsubsection{\texorpdfstring{msg\+\_\+}{msg\_}}
{\footnotesize\ttfamily byte Dac\+::msg\+\_\+\mbox{[}\mbox{\hyperlink{classDac_af3de0bf669183e66ebf916f8c685fe6b}{kdata\+\_\+len\+\_\+}}\mbox{]}\hspace{0.3cm}{\ttfamily [protected]}}

Message to be sent via S\+PI. Each element represents a byte. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/dac.\+h\item 
src/dac.\+cpp\end{DoxyCompactItemize}
